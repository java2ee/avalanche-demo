<?xml version="1.0" encoding="UTF-8"?>
<avalanche name="Demo Application">

	<interface name="rmi-interface" uri="rmi://localhost:23000/rmi-connector" />

	<interface name="http-interface" uri="http://localhost:8080/demo/connector/http-connector" />

	<hadr name="hadr-interface" >
		<link name="http-karaf" />
		<link name="rmi-interface" />
	</hadr>

	<function class="ru.funsys.demo.avalanche.DemoFunction" name="info-function" description="Сведения об узле системы" />

	<function class="ru.funsys.demo.avalanche.DemoCascadeFunction" name="cascade-info" description="Каскадная функция">
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="info-function" />
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="http-info" uri="http-interface/info" />
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="rmi-info" uri="rmi-interface/info" />
	</function>

	<application class="ru.funsys.demo.avalanche.DemoApplication" name="DemoApp" >
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="info-function" />
	</application>
	 
	<application class="ru.funsys.demo.avalanche.DemoApplication" name="RMIApp" >
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="rmi-interface/info" />
	</application>
	 
	<application class="ru.funsys.demo.avalanche.DemoApplication" name="HTTPApp" >
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="http-interface/info" />
	</application>
	 
	<application class="ru.funsys.demo.avalanche.DemoApplication" name="CascadeApp" description="Каскадное приложение">
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="cascade-info" />
	</application>
	 
	<application class="ru.funsys.demo.avalanche.DemoApplication" name="HADRApp" >
		<adapter class="ru.funsys.demo.avalanche.DemoAdapter" name="info" uri="hadr-interface/info" />
	</application>
	 
	<connector class="RMIConnector" name="rmi-connector" port="23000" >
		<publish name="info" function="info-function" />
	</connector>

	<connector class="HTTPConnector" name="http-connector" >
		<publish name="info" function="info-function" />
	</connector>
	
</avalanche>